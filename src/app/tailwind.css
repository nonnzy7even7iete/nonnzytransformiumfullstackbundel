@import "tailwindcss";
@plugin "tailwindcss-animate";

@theme {
  --font-sans: var(--font-geist-sans);
  --font-oswald: var(--font-oswald);
  --font-mono: var(--font-mono-tech);
}

@source "../../src/**/*.{ts,tsx}";

/* -----------------------------------------------------------
   REGLES DU JEU : DICHOTOMIE NOIR/BLANC & RADIUS 2PX
   ----------------------------------------------------------- */
:root {
  /* LIGHT MODE : Pur & Chirurgical */
  --background: #ffffff;
  --foreground: #000000;

  --glass-bg: rgba(255, 255, 255, 0.85);
  --glass-border: #000000;
  /* Bordure noire fine en light pour le contraste */
  --radius-protocol: 2px;
  --blur-intensity: 40px;
}

.dark {
  /* DARK MODE : Abysse & Box Noir */
  --background: #000000;
  --foreground: #ffffff;

  --glass-bg: rgba(0, 0, 0, 0.95);
  /* Box Noir quasi-opaque */
  --glass-border: rgba(255, 255, 255, 0.2);
  /* Bordure grise fine */
  --radius-protocol: 2px;
  --blur-intensity: 64px;
}

/* -----------------------------------------------------------
   SUTURE TECHNIQUE : On lie tes classes existantes aux variables
   ----------------------------------------------------------- */
@layer utilities {

  /* On redéfinit bg-glass-dual pour qu'il suive tes règles */
  .bg-glass-dual {
    background-color: var(--glass-bg) !important;
    backdrop-filter: blur(var(--blur-intensity)) !important;
    -webkit-backdrop-filter: blur(var(--blur-intensity)) !important;
    border-radius: var(--radius-protocol) !important;
  }

  /* On redéfinit border-border-dual */
  .border-border-dual {
    border-color: var(--glass-border) !important;
    border-width: 1px !important;
  }

  /* On écrase les arrondis par défaut (rounded-2xl dans ton code) par tes 2px */
  .rounded-2xl,
  .rounded-xl {
    border-radius: var(--radius-protocol) !important;
  }
}

@layer base {
  body {
    background-color: var(--background);
    color: var(--foreground);
    font-family: var(--font-sans);
    -webkit-font-smoothing: antialiased;
  }

  /* Force le texte noir sur blanc / blanc sur noir partout */
  .text-foreground,
  .text-foreground\/90,
  .text-foreground\/80 {
    color: var(--foreground) !important;
  }

  /* Les fonds des boutons (bg-foreground) s'inversent automatiquement */
  .bg-foreground {
    background-color: var(--foreground) !important;
  }

  .text-background {
    color: var(--background) !important;
  }
}